<div class="container mt-4 mb-4">
  <h2 class="mb-4">Chi tiết đơn hàng</h2>

  <div class="row">
    <!-- Thông tin đơn hàng -->
    <div class="col-md-6 mb-4">
      <div class="card shadow-sm p-4">
        <h5 class="mb-3">Thông tin đơn hàng</h5>
        <p><strong>Mã đơn hàng:</strong> {{ orderResponse.id }}</p>
        <p><strong>Người đặt:</strong> {{ orderResponse.fullname }}</p>
        <p><strong>Số điện thoại:</strong> {{ orderResponse.phone_number }}</p>
        <p><strong>Email:</strong> {{ orderResponse.email }}</p>
        <p><strong>Địa chỉ:</strong> {{ orderResponse.address }}</p>
        <p><strong>Ghi chú:</strong> {{ orderResponse.note || 'Không có' }}</p>
        <p><strong>Ngày đặt:</strong> {{ orderResponse.order_date | date:'dd/MM/yyyy' }}</p>
        <p><strong>Trạng thái:</strong></p>
        <select class="form-control mt-2" [(ngModel)]="orderResponse.status">
          <option value="pending">Chờ xử lý</option>
          <option value="processing">Đang xử lý</option>
          <option value="shipped">Đã gửi hàng</option>
          <option value="delivered">Đã giao</option>
          <option value="cancelled">Đã huỷ</option>
        </select>
      </div>
    </div>

    <!-- Chi tiết sản phẩm -->
    <div class="col-md-6 mb-4">
      <div class="card shadow-sm p-4">
        <h5 class="mb-3">Sản phẩm</h5>
        <table class="table table-bordered table-hover text-center">
          <thead class="table-light">
            <tr>
              <th>Tên sản phẩm</th>
              <th>Giá</th>
              <th>Số lượng</th>
            </tr>
          </thead>
          <tbody>
            @for(order_detail of orderResponse.order_details; track order_detail.product.name) {
              <tr>
                <td>{{ order_detail.product.name }}</td>
                <td>{{ order_detail.product.price | number:'1.0-0' }} VND</td>
                <td>{{ order_detail.number_of_products }}</td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Nút lưu -->
  <div class="text-end">
    <button class="btn btn-success px-4" (click)="saveOrder()">Lưu</button>
  </div>
</div>
